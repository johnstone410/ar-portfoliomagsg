<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded arjs='sourceType: webcam;debugUIEnabled: false;'>
		<a-assets>
			<video id="video" crossOrigin="anonymous" autoplay muted loop="true" src="Portfolio_Cover_Shoot_BTS_010419.mp4"></video>
		</a-assets>
		<a-marker preset="custom" type="pattern" url="marker.patt">
			<a-video src="#video" width="8" height="4" rotation="270 0 0" position="-5 3 0" vidhandler></a-video>
		</a-marker>
		<a-entity camera></a-entity>
	</a-scene>
	<script type="text/javascript">
		AFRAME.registerComponent('vidhandler', {
		  init: function () {
		    this.toggle = false;
		    this.vid = document.querySelector("#video");
		    this.vid.pause();
		},
		tick:function(){
		   if(this.el.object3D.visible == true){
		     if(!this.toggle){
		       this.toggle = true;
		       this.vid.play();
		       //this.vid.muted = false;
		    }
		  }else{
		    this.toggle = false;
		    this.vid.pause();
		    //this.vid.muted = true;
		  }
		 }
		});
	</script>
</body>
</html>